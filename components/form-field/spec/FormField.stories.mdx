import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { Tag } from '@not-govuk/tag';
import { FormField } from '../src/FormField';
import readMe from '../README.md';

<Meta
  title="Form field"
  component={ FormField }
  parameters={ {
    chromatic: { viewports: [640, 480] },
    description: 'A component for colecting a piece of data from the user.',
    jest: ['FormField'],
    notes: readMe
  } }
/>

# Form field

<p><Tag text="Unofficial" /></p>

A component for colecting a piece of data from the user. The type of form field
that is rendered will depend on the props that are supplied to it. For example,
providing a few options will cause it to render as some radio buttons.

> **Note:** To use this as part of the wider forms framework, you should instead
>           import the `Form` component and replace `FormField` in the examples
>           below with `Form.Field`.

<Preview withToolbar>
  <Story name="FormField">
    <FormField
      name="name"
      label={<h1 className="govuk-heading-l">What is the name of the event?</h1>}
      hint="The name you’ll use on promotional material."
    />
  </Story>
</Preview>

<Props of={ FormField } />


## How it works

With minimal props it will render as a simple text field.

<Preview>
  <Story name="Standard">
    <FormField
      name="name"
      label={<h1 className="govuk-heading-l">What is the name of the event?</h1>}
      hint="The name you’ll use on promotional material."
    />
  </Story>
</Preview>


### Multi-line

By adding a `rows` prop that is greater than `1` we get a textarea of that size.

<Preview>
  <Story name="Multi-line">
    <FormField
      name="desc"
      label={<h1 className="govuk-heading-l">How would you describe the event?</h1>}
      hint="This will be displayed on promotional material."
      rows={3}
    />
  </Story>
</Preview>


### Dates

It's also possible to force a certain rendering mode by using the `type` prop.
The most common use for this is to ask for dates by setting it to `date`.

<Preview>
  <Story name="Date">
    <FormField
      name="date"
      label={<h1 className="govuk-heading-l">When is the event?</h1>}
      type="date"
    />
  </Story>
</Preview>


#### Date picker

If you prefer, you can still use the browser's native, date-picker by setting
the `type` props to `native-date`.

<Preview>
  <Story name="Date-picker">
    <FormField
      name="date"
      label={<h1 className="govuk-heading-l">When is the event?</h1>}
      type="native-date"
    />
  </Story>
</Preview>


### Selecting from options

If you want the user to only answer from a list of options just provide an
`options` prop.


#### A single choice from few options

Providing very few option will give you radios.

<Preview>
  <Story name="Single-choice-few">
    <FormField
      name="age-restricted"
      label={<h1 className="govuk-heading-l">Is it suitable for under-18s?</h1>}
      hint="Select 'No' if there will be any explicit content."
      options={[
        { value: '1', label: 'Yes' },
        { value: '0', label: 'No' }
      ]}
      classModifiers="inline"
    />
  </Story>
</Preview>


#### A single choice from more options

Providing more options will give you small radios.

<Preview>
  <Story name="Single-choice-some">
    <FormField
      name="location"
      label={<h1 className="govuk-heading-l">Where will the event take place?</h1>}
      hint="Select the country in which the event will be held."
      options={[
        { value: 'fr', label: 'France' },
        { value: 'de', label: 'Germany' },
        { value: 'ie', label: 'Republic of Ireland' },
        { value: 'pt', label: 'Portugal' },
        { value: 'es', label: 'Spain' },
        { value: 'nl', label: 'The Netherlands' },
        { value: 'gb', label: 'United Kingdom', selected: true },
      ]}
    />
  </Story>
</Preview>


#### A single choice from more options

Providing lots of options will give you a select box. (Note that these do not
test well with users!)

<Preview>
  <Story name="Single-choice-many">
    <FormField
      name="location"
      label={<h1 className="govuk-heading-l">Where will the event take place?</h1>}
      hint="Select the country in which the event will be held."
      options={[
        { value: 'bg', label: 'Bulgaria' },
        { value: 'cz', label: 'Czech Republic' },
        { value: 'fr', label: 'France' },
        { value: 'de', label: 'Germany' },
        { value: 'fi', label: 'Finland' },
        { value: 'hu', label: 'Hungary' },
        { value: 'it', label: 'Italy' },
        { value: 'ie', label: 'Republic of Ireland' },
        { value: 'ro', label: 'Romania' },
        { value: 'no', label: 'Norway' },
        { value: 'pl', label: 'Poland' },
        { value: 'pt', label: 'Portugal' },
        { value: 'ru', label: 'Russia' },
        { value: 'sk', label: 'Slovakia' },
        { value: 'si', label: 'Slovenia' },
        { value: 'es', label: 'Spain' },
        { value: 'se', label: 'Sweden' },
        { value: 'ch', label: 'Switzerland' },
        { value: 'nl', label: 'The Netherlands' },
        { value: 'ua', label: 'Ukraine' },
        { value: 'gb', label: 'United Kingdom', selected: true },
      ]}
    />
  </Story>
</Preview>


#### Multiple choices

If you want the user to be able to select multiple options just add the
`multiple` prop.

<Preview>
  <Story name="Multiple-choice-some">
    <FormField
      name="location"
      label={<h1 className="govuk-heading-l">Where will the event take place?</h1>}
      hint="Select all countries that will be hosting the event."
      options={[
        { value: 'fr', label: 'France' },
        { value: 'de', label: 'Germany' },
        { value: 'ie', label: 'Republic of Ireland' },
        { value: 'pt', label: 'Portugal' },
        { value: 'es', label: 'Spain' },
        { value: 'nl', label: 'The Netherlands' },
        { value: 'gb', label: 'United Kingdom', selected: true },
      ]}
      multiple
    />
  </Story>
</Preview>

#### Multiple choices from many options

If you provide a lot of options you will get a muilt-select box. (Note that
these do not test well with users!)

<Preview>
  <Story name="Multiple-choice-many">
    <FormField
      name="location"
      label={<h1 className="govuk-heading-l">Where will the event take place?</h1>}
      hint="Select all countries that will be hosting the event."
      options={[
        { value: 'bg', label: 'Bulgaria' },
        { value: 'cz', label: 'Czech Republic' },
        { value: 'fr', label: 'France' },
        { value: 'de', label: 'Germany' },
        { value: 'fi', label: 'Finland' },
        { value: 'hu', label: 'Hungary' },
        { value: 'it', label: 'Italy' },
        { value: 'ie', label: 'Republic of Ireland' },
        { value: 'ro', label: 'Romania' },
        { value: 'no', label: 'Norway' },
        { value: 'pl', label: 'Poland' },
        { value: 'pt', label: 'Portugal' },
        { value: 'ru', label: 'Russia' },
        { value: 'sk', label: 'Slovakia' },
        { value: 'si', label: 'Slovenia' },
        { value: 'es', label: 'Spain' },
        { value: 'se', label: 'Sweden' },
        { value: 'ch', label: 'Switzerland' },
        { value: 'nl', label: 'The Netherlands' },
        { value: 'ua', label: 'Ukraine' },
        { value: 'gb', label: 'United Kingdom', selected: true },
      ]}
      multiple
      size={8}
    />
  </Story>
</Preview>
