import { Meta, Preview, Props, Story } from '@storybook/addon-docs';
import { Tag } from '@not-govuk/tag';
import { SearchBox } from '../src/SearchBox';
import readMe from '../README.md';

<Meta
  title="Search box"
  component={ SearchBox }
  parameters={ {
    chromatic: { viewports: [640, 480] },
    description: 'A single-line, form field for searching, with submit button.',
    jest: ['SearchBox'],
    notes: readMe
  } }
/>

# Search box

<p><Tag text="Unofficial" /> <Tag text="Experimental" /></p>

A single-line, form field for searching, with submit button.

(Heavily inspired by the [Search component] in the [GOV.UK Component Guide].)

<Preview withToolbar>
  <Story name="SearchBox">
    <form method="get" action="https://www.google.co.uk/search">
      <SearchBox name="q" label="Search Google" width={15} />
    </form>
  </Story>
</Preview>

<Props of={ SearchBox } />


## Stories
### Standard

A standard Search box.

<Preview>
  <Story name="Standard">
    <SearchBox name="q" />
  </Story>
</Preview>


### Custom label

<Preview>
  <Story name="Custom label">
    <SearchBox name="q" label="Query" />
  </Story>
</Preview>


### Hint

If you provide a hint, it will be displayed instead of the label.

<Preview>
  <Story name="Hint">
    <SearchBox name="q" hint="What are you looking for?" />
  </Story>
</Preview>


### Custom submit button text

The text of the submit button is visually hidden, but can be customised for screen-readers.

<Preview>
  <Story name="Custom button">
    <SearchBox name="q" button="Query" />
  </Story>
</Preview>


### Fixed width

<Preview>
  <Story name="Fixed width">
    <SearchBox name="q" width="10" />
  </Story>
</Preview>


### Fluid width

<Preview>
  <Story name="Fluid width">
    <SearchBox name="q" className="govuk-!-width-one-half" />
  </Story>
</Preview>


### Error

Currently errors are visually hidden, so it is best to avoid them. They will however be accessible to screen-readers, and the field will still be highlighted in red.

<Preview>
  <Story name="Error">
    <SearchBox name="q" error="Something went wrong" />
  </Story>
</Preview>


### Disabled

<Preview>
  <Story name="Disabled">
    <SearchBox name="q" disabled />
  </Story>
</Preview>


### Secondary button

A search box with a more subtle, grey button, similar to the 'secondary' button style.

<Preview>
  <Story name="Secondary">
    <SearchBox name="q" classModifiers="secondary" />
  </Story>
</Preview>


[Search component]: https://components.publishing.service.gov.uk/component-guide/search
[GOV.UK Component Guide]: https://components.publishing.service.gov.uk/component-guide
