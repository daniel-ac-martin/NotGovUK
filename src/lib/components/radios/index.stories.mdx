import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks";
import { boolean, number, object, text } from "@storybook/addon-knobs";
import { Radios } from '../../';
import readMe from './README.md';

<Meta
  title="Components/Radios"
  component={Radios}
  parameters={{
    jest: ['radios'],
    notes: readMe
  }}
/>

# Radios

<Preview withToolbar>
  <Story name="Radios">
    <Radios
      className={text('className')}
      disabled={boolean('disabled', false)}
      error={text('error')}
      hint={text('hint', 'This includes changing your last name or spelling your name differently.')}
      id={text('id')}
      inline={boolean('inline'), true}
      label={(<h1>{text('label', 'Have you changed your name?')}</h1>)}
      name={text('name', 'changed-name')}
      options={object('options'), [
        { value: 'yes', label: 'Yes' },
        { value: 'no', label: 'No' }
      ]}
      small={boolean('small')}
    />
  </Story>
</Preview>

<Props of={Radios} />


## When to use this component

Use the radios component when users can only select one option from a list.


## When not to use this component

Do not use the radios component if users might need to select more than one option. In this case, you should use the checkboxes component instead.


## How it works

Radios are grouped together in a `<fieldset>` with a `<legend>` that describes them, as shown in the examples on this page. This is usually a question, like ‘Where do you live?’.

If you are asking just one question per page as recommended, you can set the contents of the `<legend>` as the page heading. This is good practice as it means that users of screen readers will only hear the contents once.

Read more about why and how to set legends as headings.

Always position radios to the left of their labels. This makes them easier to find, especially for users of screen magnifiers.

Unlike with checkboxes, users can only select one option from a list of radios. Do not assume that users will know how many options they can select based on the visual difference between radios and checkboxes alone.

If needed, add a hint explaining this, for example, ‘Select one option’.

Do not pre-select radio options as this makes it more likely that users will:

- not realise they’ve missed a question
- submit the wrong answer

Users cannot go back to having no option selected once they have selected one, without refreshing their browser window. Therefore, you should include ‘None of the above’ or ‘I do not know’ if they are valid options.

Order radio options alphabetically by default.

In some cases, it can be helpful to order them from most-to-least common options. For example, you could order options for ‘Where do you live?’ based on population size.

However you should do this with extreme caution as it can reinforce bias in your service. If in doubt, order alphabetically.

There are 2 ways to use the radios component. You can use HTML or, if you are using Nunjucks or the GOV.UK Prototype Kit, you can use the Nunjucks macro.


### Stacked radios

When there are more than 2 options, radios should be stacked, like so:

<Preview>
  <Story name="Standard">
    <Radios
      label={<h1>Where do you live?</h1>}
      name="where-do-you-live"
      options={[
        { value: 'england', label: 'England' },
        { value: 'scotland', label: 'Scotland' },
        { value: 'wales', label: 'Wales' },
        { value: 'northern-ireland', label: 'Northern Ireland' }
      ]}
    />
  </Story>
</Preview>


### Inline radios

If there are only 2 options, you can either stack the radios or display them inline, like so:

<Preview>
  <Story name="Inline">
    <Radios
      label={<h1>Have you changed your name?</h1>}
      name="changed-name"
      options={[
        { value: 'yes', label: 'Yes' },
        { value: 'no', label: 'No' }
      ]}
      hint="This includes changing your last name or spelling your name differently."
      inline
    />
  </Story>
</Preview>


### Radio items with hints

#### FIXME

You can add hints to radio items to provide additional information about the options.

<Preview>
  <Story name="Hints">
    <Radios
      label={<h1>How do you want to sign in?</h1>}
      name="sign-in"
      options={[
        {
          value: 'government-gaetway',
          label: 'Sign in with Government Gateway',
          hint: 'You’ll have a user ID if you’ve registered for Self Assessment or filed a tax return online before.'
        },
        {
          value: 'govuk-verify',
          label: 'Sign in with GOV.UK Verify',
          hint: 'You’ll have an account if you’ve already proved your identity with either Barclays, CitizenSafe, Digidentity, Experian, Post Office, Royal Mail or SecureIdentity.'
        }
      ]}
      hint="This includes changing your last name or spelling your name differently."
      inline
    />
  </Story>
</Preview>


### Radio items with a text divider

#### IMPLEMENT ME

If one or more of your radio options is different from the others, it can help users if you separate them using a text divider. The text is usually the word ‘or’.

<Preview>
  <Story name="Divider">
    <Radios
      label={<h1>Where do you live?</h1>}
      name="where-do-you-live"
      options={[
        { value: 'england', label: 'England' },
        { value: 'scotland', label: 'Scotland' },
        { value: 'wales', label: 'Wales' },
        { value: 'northern-ireland', label: 'Northern Ireland' },
        { value: '', label: 'or' },
        { value: 'abroad', label: 'I am a British citizen living abroad' }
      ]}
    />
  </Story>
</Preview>


### Conditionally revealing content

#### IMPLEMENT ME

Using this component, you can add conditionally revealing content to stacked radios, so users only see content when it’s relevant to them.

For example, you could reveal an email address input only when a user chooses to be contacted by email.

<Preview>
  <Story name="Content">
    <Radios
      label={<h1>How would you prefer to be contacted?</h1>}
      name="how-contacted"
      options={[
        { value: 'email', label: 'Email' },
        { value: 'phone', label: 'Phone' },
        { value: 'text', label: 'Text message' }
      ]}
      hint="Select one option."
    />
  </Story>
</Preview>


Keep it simple. If you need to add a lot of content, consider showing it on the next page in the process instead.

Do not use this component to add conditionally revealing content to inline radios.


### Smaller radios

#### IMPLEMENT ME

Use standard-sized radios in nearly all cases. However, smaller versions work well on pages where it’s helpful to make them less visually prominent.

For example, on a page of search results, the primary user need is to see the results. Using smaller radios lets users see and change search filters without distracting them from the main content.

<Preview>
  <Story name="Small">
    <Radios
      label={<h3>Filter</h3>}
      name="filter"
      options={[
        { value: 'month', label: 'Monthly' },
        { value: 'year', label: 'Yearly' }
      ]}
      small
    />
  </Story>
</Preview>


Small radios can work well on information dense screens in services designed for repeat use, like caseworking systems.

In services like these, the risk that they will not be noticed is lower because users return to the screen multiple times.


### Error messages

Error messages should be styled like this:

<Preview>
  <Story name="Errors">
    <Radios
      label={<h1>Have you changed your name?</h1>}
      name="changed-name"
      options={[
        { value: 'yes', label: 'Yes' },
        { value: 'no', label: 'No' }
      ]}
      hint="This includes changing your last name or spelling your name differently."
      error="Select yes if you have changed your name "
      inline
    />
  </Story>
</Preview>

Make sure errors follow the guidance in error message and have specific error messages for specific error states.


#### If nothing is selected and the options are ‘yes’ and ‘no’

Say ‘Select yes if [whatever it is is true]’.
For example, ‘Select yes if Sarah normally lives with you’.


#### If nothing is selected and the question has options in it

Say ‘Select if [whatever it is]’.
For example, ‘Select if you are employed or self-employed’.


#### If nothing is selected and the question does not have options in it

Say ‘Select [whatever it is]’.
For example, ‘Select the day of the week you pay your rent’.

# Research on this component

Read a blog post about [updates to the radios and checkboxes components].

[updates to the radios and checkboxes components]: https://designnotes.blog.gov.uk/2016/11/30/weve-updated-the-radios-and-checkboxes-on-gov-uk/
