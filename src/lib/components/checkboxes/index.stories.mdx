import { Meta, Preview, Props, Story } from "@storybook/addon-docs/blocks";
import { boolean, object, text } from "@storybook/addon-knobs";
import { Checkboxes } from '../../';
import readMe from './README.md';
import { main } from "../../../../.storybook/decorators";

<Meta
  title="Components/Checkboxes"
  component={Checkboxes}
  parameters={{
    jest: ['checkboxes'],
    notes: readMe
  }}
  decorators={[main]}
/>

# Checkboxes

Let users select one or more options by using the checkboxes component.

<Preview withToolbar>
  <Story name="Checkboxes">
    <Checkboxes
      className={text('className')}
      disabled={boolean('disabled', false)}
      error={text('error')}
      hint={text('hint', 'Select all that apply.')}
      id={text('id')}
      inline={boolean('inline')}
      label={(<h1>{text('label', 'Which types of waste do you transport?')}</h1>)}
      name={text('name', 'waste')}
      options={object('options'), [
        { value: 'carcasses', label: 'Waste from animal carcasses' },
        { value: 'mines', label: 'Waste from mines or quarries' },
        { value: 'farm', label: 'Farm or agricultural waste' }
      ]}
      small={boolean('small')}
    />
  </Story>
</Preview>

<Props of={Checkboxes} />

# When to use this component

Use the checkboxes component when you need to help users:

- select multiple options from a list
- toggle a single option on or off


# When not to use this component

Do not use the checkboxes component if users can only choose one option from a selection. In this case, use the radios component.


# How it works

Checkboxes are grouped together in a `<fieldset>` with a `<legend>` that describes them, as shown in the examples on this page. This is usually a question, like ‘How would you like to be contacted?’.

If you are asking just one question per page as recommended, you can set the contents of the `<legend>` as the page heading. This is good practice as it means that users of screen readers will only hear the contents once.

Read more about why and how to set legends as headings.

Always position checkboxes to the left of their labels. This makes them easier to find, especially for users of screen magnifiers.

Unlike with radios, users can select multiple options from a list of checkboxes. Do not assume that users will know how many options they can select based on the visual difference between radios and checkboxes alone.

If needed, add a hint explaining this, for example, ‘Select all that apply’.

Do not pre-select checkbox options as this makes it more likely that users will:

- not realise they’ve missed a question
- submit the wrong answer

Order checkbox options alphabetically by default.

In some cases, it can be helpful to order them from most-to-least common options. For example, you could order options for ‘What is your nationality?’ based on population size.

<Preview>
  <Story name="Standard">
    <Checkboxes
      label={<h1>Which types of waste do you transport?</h1>}
      name="waste"
      options={[
        { value: 'carcasses', label: 'Waste from animal carcasses' },
        { value: 'mines', label: 'Waste from mines or quarries' },
        { value: 'farm', label: 'Farm or agricultural waste' }
      ]}
      hint="Select all that apply."
    />
  </Story>
</Preview>


## Checkbox items with hints

You can add hints to checkbox items to provide additional information about the options.

<Preview>
  <Story name="Hints">
    <Checkboxes
      label={<h1>What is your nationality?</h1>}
      name="nationality"
      options={[
        { value: 'british', label: 'British', hint: 'including English, Scottish, Welsh and Northern Irish' },
        { value: 'irish', label: 'Irish' },
        { value: 'other', label: 'Citizen of another country' }
      ]}
      hint="If you have dual nationality, select all options that are relevant to you."
    />
  </Story>
</Preview>


## Conditionally revealing content

### IMPLEMENT ME!

You can add conditionally revealing content to checkboxes, so users only see content when it’s relevant to them. For example, you could reveal a phone number input only when a user chooses to be contacted by phone.

<Preview>
  <Story name="Content">
    <Checkboxes
      label={<h1>How would you like to be contacted?</h1>}
      name="contact"
      options={[
        { value: 'email', label: 'Email' },
        { value: 'phone', label: 'Phone' },
        { value: 'text message', label: 'Text message' }
      ]}
      hint="Select all options that are relevant to you."
    />
  </Story>
</Preview>

Keep it simple - if you need to add a lot of content, consider showing it on the next page in the process instead.


## Smaller checkboxes

### IMPLEMENT ME!

Use standard-sized checkboxes in nearly all cases. However, smaller versions work well on pages where it’s helpful to make them less visually prominent.

For example, on a page of search results, the primary user need is to see the results. Using smaller checkboxes lets users see and change search filters without distracting them from the main content.

<Preview>
  <Story name="Small">
    <Checkboxes
      label={<h3>Organisation</h3>}
      name="organisation"
      options={[
        { value: 'hmrc', label: 'HM Revenue and Customs (HMRC)' },
        { value: 'employment-tribunal', label: 'Employment Tribunal' },
        { value: 'MoD', label: 'Ministry of Defence' },
        { value: 'DfT', label: 'Department for Transport' }
      ]}
      small
    />
  </Story>
</Preview>

Small checkboxes can work well on information dense screens in services designed for repeat use, like caseworking systems.

In services like these, the risk that they will not be noticed is lower because users return to the screen multiple times.


## Error messages

Error messages should be styled like this:

<Preview>
  <Story name="Errors">
    <Checkboxes
      label={<h1>What is your nationality?</h1>}
      name="nationality"
      options={[
        { value: 'british', label: 'British', hint: 'including English, Scottish, Welsh and Northern Irish' },
        { value: 'irish', label: 'Irish' },
        { value: 'other', label: 'Citizen of another country' }
      ]}
      hint="Select all that apply."
      error="Select if you are British, Irish or a citizen of a different country "
    />
  </Story>
</Preview>

Make sure errors follow the guidance in error message and have specific error messages for specific error states.


### If nothing is selected and the question has options in it

Say ‘Select if [whatever it is]’.

For example, ‘Select if you are British, Irish or a citizen of a different country’.


### If nothing is selected and the question does not have options in it

Say ‘Select [whatever it is]’.

For example, ‘Select your nationality or nationalities’.


# Research on this component

Read a blog post about [updates to the radios and checkboxes components].

[updates to the radios and checkboxes components]: https://designnotes.blog.gov.uk/2016/11/30/weve-updated-the-radios-and-checkboxes-on-gov-uk/